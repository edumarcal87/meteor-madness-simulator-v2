:root{
  --bg:#0b0f1a;
  --panel:#101828;
  --panel-2:#1d2533;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --accent:#06b6d4;
  --accent-2:#fde047;
  --success:#22c55e;
  --warn:#f59e0b;
  --danger:#ef4444;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: radial-gradient(1200px 600px at 20% -10%, rgba(6,182,212,.18), transparent 60%),
              radial-gradient(1000px 500px at 120% 10%, rgba(253,224,71,.15), transparent 60%),
              var(--bg);
  color:var(--text);
}

/* Header */
.app-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 24px;background:var(--panel-2);border-bottom:1px solid #0f1422;
  position:sticky;top:0;z-index:5
}
.brand{display:flex;gap:12px;align-items:center}
.brand .logo{font-size:28px}
.brand h1{font-size:20px;margin:0}
.version{color:var(--muted);font-size:14px;display:flex;gap:8px;align-items:center}
.lang-toggle{
  margin-right:8px;
  border:1px solid #2b3a57; background:#0a1322; color:#dbeafe;
  border-radius:10px; padding:6px 10px; cursor:pointer; font-weight:700;
}
.lang-toggle:hover{ border-color:var(--accent); color:#ffffff }

/* Layout principal */
.container{
  display:grid;grid-template-columns:420px 1fr;gap:20px;max-width:1200px;margin:24px auto;padding:0 20px;
}
.panel{background:var(--panel);border:1px solid #162036;border-radius:18px;box-shadow:var(--shadow);padding:18px}
.panel-title{margin:0 0 14px;font-size:18px;color:var(--accent)}

/* Controles */
.controls-toolbar{
  display:flex;align-items:center;gap:12px;margin:6px 0 14px;flex-wrap:wrap;
}
.control-group{margin-bottom:18px}
.control-label{display:block;margin-bottom:8px;color:#dbeafe}
.help-text{display:block;margin-top:6px;color:var(--muted);font-size:12px}

/* Botões */
.btn-group{display:flex;gap:10px;flex-wrap:nowrap}
.btn-group.wrap{flex-wrap:wrap}
.btn{
  border-radius:12px;border:2px solid var(--accent);background:transparent;color:var(--muted);
  padding:10px 16px;font-weight:600;cursor:pointer;transition:.2s;
}
.btn:hover{transform:translateY(-1px);opacity:.95}
.btn.filled{background:var(--accent);color:#06252a}
.btn.outline{background:#0a1322}
.btn.ghost{border-color:transparent;color:var(--accent);background:transparent}
.btn.primary{background:var(--accent-2);border-color:var(--accent-2);color:#372003}
.actions{display:flex;gap:12px;margin-top:10px}

/* Mapa & resultados */
.panel-right .canvas-row{display:grid;grid-template-columns:1.2fr .9fr;gap:16px;align-items:stretch}
.earth-canvas{
  background:linear-gradient(180deg, #0a1322, #0f1b33);
  border:1px solid #162036;border-radius:16px;display:flex;align-items:center;justify-content:center;
  position:relative;min-height:320px;overflow:hidden
}
.planet{
  width:320px;height:320px;border-radius:50%;
  background:radial-gradient(circle at 40% 35%, #2bc2f1, #0ea5e9 60%, #0b76a6 100%);
  box-shadow:inset 0 0 40px rgba(0,0,0,.35), 0 0 80px rgba(14,165,233,.25);
  position:relative;border:3px solid #38bdf8;
}
.continent{position:absolute;background:#0e8a6a;filter:blur(.2px);opacity:.9;border-radius:30% 60% 40% 70%/50% 40% 60% 50%}
.continent.c1{width:150px;height:90px;left:60px;top:110px;transform:rotate(-10deg)}
.continent.c2{width:170px;height:110px;right:40px;top:170px;transform:rotate(18deg)}
.asteroid{position:absolute;right:-40px;top:40px;font-size:40px;animation:fly 3s infinite linear}
@keyframes fly{0%{right:-60px;top:20px}100%{right:360px;top:160px}}

.results-card{
  background:var(--panel-2);border:1px solid #1f2a3f;border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:12px
}
.results-card h3{margin:0 0 4px 0}
.neo-selected{margin:0;color:#e2e8f0;font-size:14px}

.meter{display:flex;flex-direction:column;gap:6px}
.meter-label{display:flex;align-items:center;justify-content:space-between;color:var(--muted);font-size:14px}
.meter-bar{height:24px;border-radius:10px;background:#0f1b2f;overflow:hidden;border:1px solid #22304a}
.meter-bar span{display:block;height:100%;background:linear-gradient(90deg, #22c55e, #f59e0b 55%, #ef4444);filter:saturate(1.1)}

/* Cards de detalhes científicos */
.facts{
  display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; margin-top:6px;
}
.fact{ background:#0f1b2f; border:1px solid #22304a; border-radius:12px; padding:10px; }
.fact-label{ display:block; color:var(--muted); font-size:12px; margin-bottom:4px; }
.fact-value{ font-weight:700; font-size:16px; }

.disclaimer{color:var(--muted);font-size:12px;margin:6px 0 0}
.export-row{margin-top:10px;display:flex;justify-content:flex-end}

/* Tooltips acessíveis */
.tip{
  display:inline-flex; align-items:center; justify-content:center;
  width:18px; height:18px; margin-left:6px; border-radius:50%;
  border:1px solid #2b3a57; background:#0a1322; color:#a6b1c2; font-weight:700; font-size:11px;
  cursor:pointer; position:relative; line-height:1;
}
.tip:hover, .tip:focus{ outline:none; border-color:var(--accent); color:#dbeafe; background:#0c1730 }
.tip::after{
  content: attr(data-tip);
  position:absolute; z-index:20; left:50%; transform:translateX(-50%) translateY(8px);
  min-width:200px; max-width:320px; padding:8px 10px; border-radius:10px;
  background:#0f1b2f; border:1px solid #22304a; color:#e5e7eb; font-size:12px; line-height:1.4;
  box-shadow: var(--shadow);
  opacity:0; pointer-events:none; transition:opacity .12s ease;
  white-space:normal;
}
.tip.open::after, .tip:hover::after, .tip:focus::after{ opacity:1; }

/* Modal */
.modal[hidden]{ display:none }
.modal{ position:fixed; inset:0; z-index:50; display:grid; place-items:center }
.modal-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter:blur(2px) }
.modal-card{
  position:relative; width:min(680px, 92vw); max-height:80vh; overflow:auto;
  background:var(--panel); border:1px solid #233047; border-radius:16px; box-shadow:var(--shadow);
}
.modal-head{ display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid #1f2a3f }
.modal-head h3{ margin:0; color:#e2e8f0 }
.modal-close{ border:none; background:transparent; color:var(--muted); cursor:pointer; font-size:18px; padding:6px 8px; border-radius:8px }
.modal-close:hover{ color:#fca5a5; background:#0a1322 }
.modal-body{ padding:16px 18px; color:#cbd5e1; line-height:1.6 }
.modal-body code{ background:#0a1322; padding:2px 6px; border-radius:6px; border:1px solid #1f2a3f; color:#e2e8f0 }
.modal-foot{ padding:14px 18px; border-top:1px solid #1f2a3f; display:flex; justify-content:flex-end }
.modal-foot .btn{ border:2px solid var(--accent); color:var(--accent) }
.modal-foot .btn:hover{ transform:translateY(-1px) }

/* Footer */
.app-footer{max-width:1200px;margin:8px auto 24px;padding:0 20px;color:var(--muted);text-align:right;font-size:12px}

/* Responsivo */
@media (max-width: 980px){
  .container{grid-template-columns:1fr}
  .panel-right .canvas-row{grid-template-columns:1fr}
  .actions{flex-direction:column}
  .btn-group{flex-wrap:wrap}
  .facts{ grid-template-columns:1fr; }
}
